# Default values for qtest-launch app.

namespace:
  name: qtest
reloader:
  enabled: false
secrets:
  name: qtest-manager-secret
image:
  repository: qasymphony/launch
  pullPolicy: IfNotPresent
  tag: "1.6.12"
imageCredentials:
  enabled: false
  # name: ""
  # registry: ""
  # username: ""
  # password: ""
  # email: ""
  # existingImageCredentials: ""
deployment:
  annotations: {}
rollouts:
  enabled: false
  ingressClassName: alb
  strategy:
    canary:
      maxSurge: "25%"
      maxUnavailable: 0
  steps:
    - setWeight: 20
    # if prometheus metrics are enabled
    # - analysis:
    #     templates:
    #     - templateName: success-rates
    #       clusterScope: true
    #     args:
    #     - name: service-name
    - setWeight: 50
    - pause: {duration: 10s}
service:
  type: LoadBalancer
  port: 3080
  targetPort: 3080
  serviceName: qtest-launch-service
extraInitContainers: []
extraContainers: []
extraArgs: []
extraEnv: []
extraVolumeMounts: []
extraVolumes: []
qTestLaunch:
  qTestLaunchDBName: qtest
  qTestLaunchDBUserName: postgres
  qTestLaunchDBHostName: postgres.local
  qTestLaunchRootURL: https://launch.local
  qTestLaunchQTestURL: https://nephele.qtest.local
  qTestLaunchNodeTLSRejectUnAuthorized: "0"
  qTestLaunchTCPWD: "qTest"
  qTestLaunchPort: "3080"
  qTestLaunchDBSSLEnable: false
  qTestLaunchDBSSLMountPath: ""
  qTestLaunchDBSSL: ""
  qTestLaunchDBCRT: ""
#### Ingress/IngressClass (> K8s 1.18-1.22+) #####
ingressClass:
  enabled: false
  labels: {}
  controller: ingress.k8s.aws/alb
  isDefaultClass: true
  # Use to force a networking.k8s.io API Version for certain CI/CD applications. Ex. "v1"
  fallbackApiVersion: ""
ingress:
  enabled: true
  name: qtest-launch-ingress
  labels: {}
  annotations: {}
  canary:
    annotationPrefix: ""
    annotations: {}
    # canary-by-header: []
    # canary-by-header-pattern: []
  hosts:
    host: launch.qtest.local
  paths: []
  extraPaths:
    - path: /*
      backendServiceName: qtest-launch-service
      pathType: ImplementationSpecific
      backendPort: 3080
  tls: []
  # - secretName: qtest-svc-tls
  #   hosts:
  #     - svc.qtest.com
  https: false
# VPA values
vpaAutoscaling:
  enabled: false
  updatePolicy:
    updateMode: "Off"
  resourcePolicy:
    containerPolicies:
      - containerName: '*'
        controlledValues: RequestsAndLimits
# HPA values
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 4
  healthApiPath: /health-check
  periodSeconds: 30
  failureThreshold: 4
  targetCPUUtilizationPercentage: 85
  targetMemoryUtilizationPercentage: 85
resources:
  requests:
    cpu: 1
    memory: 1Gi
  limits:
    cpu: 1
    memory: 1Gi
limitRange:
  enabled: false
resourceQuota:
  enabled: false
